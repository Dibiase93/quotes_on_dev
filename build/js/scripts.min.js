!function(e){e(function(){let t="";e("#new-quote-button").on("click",function(o){o.preventDefault(),t=document.URL,e.ajax({method:"get",url:api_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(t){const o=t[0];history.pushState(null,null,o.slug);const n=o.excerpt.rendered,s=o.title.rendered,u=o._qod_quote_source,a=o._qod_quote_source_url,r=`<div class="entry-content">\n          ${n}\n          </div>\n          <div class="entry-meta">\n          <h2 class="entry-title">&mdash; ${s}\n          </h2>`;u&&a?e(".post").html(r+`<span class="source">, <a href="${a}"> ${u}</a>\n              </span></div>`):u?e(".post").html(r+`<span class="source">, ${u}\n                </span></div>`):e(".post").html(r+'<span class="source">\n                </span></div>')}).fail(function(){e(".post").html('<p class=".entry-meta"> Failed to load quote, please try again</p>')}),e(window).on("popstate",function(e){window.location.reload(t)})}),e("#quote-submission-form").on("submit",function(t){t.preventDefault();const o=e("#quote-author").val(),n=e("#quote-content").val();e("#quote-source").val(),e("#quote-source-url").val();""!==o&&""!==n?e.ajax({method:"post",url:api_vars.rest_url+"wp/v2/posts",data:{title:"quoteAuthor",content:"quoteContent",post_status:"pending",_qod_quote_source:"quoteSource",_qod_source_url:"quoteSourceUrl"},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",api_vars.wpapi_nonce)}}).done(function(){console.log("great success"),e("#quote-submission-form").slideUp(500)}).fail(function(){console.log("not successful")}):""!==n?alert("please add author"):""!==o?alert("please add quote"):alert("please add quote & author")})})}(jQuery);
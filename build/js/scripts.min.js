!function(e){e(function(){let t="";e("#new-quote-button").on("click",function(o){o.preventDefault(),t=document.URL,e.ajax({method:"get",url:api_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(t){const o=t[0];history.pushState(null,null,o.slug);const n=o.excerpt.rendered,s=o.title.rendered,a=o._qod_quote_source,u=o._qod_quote_source_url,r=e(".post"),l=`<div class="entry-content">\n          ${n}\n          </div>\n          <div class="entry-meta">\n          <h2 class="entry-title">&mdash; ${s}\n          </h2>`;a&&u?r.html(l+`<span class="source">, <a href="${u}"> ${a}</a>\n              </span></div>`):a?r.html(l+`<span class="source">, ${a}\n                </span></div>`):r.html(l+'<span class="source">\n                </span></div>')}).fail(function(){article.html('<p class=".entry-meta"> Failed to load quote, please try again</p>')}),e(window).on("popstate",function(e){window.location=t})}),e("#quote-submission-form").on("submit",function(t){t.preventDefault();const o=e("#quote-author").val(),n=e("#quote-content").val(),s=e("#quote-source").val(),a=e("#quote-source-url").val();""!==o&&""!==n?e.ajax({method:"post",url:api_vars.rest_url+"wp/v2/posts",data:{title:o,content:n,post_status:"pending",_qod_quote_source:s,_qod_source_url:a},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",api_vars.wpapi_nonce)}}).done(function(){const t=e(".entry-title");t.append("<p>&mdash; Your quote has been submitted</p>"),e("#quote-submission-form").slideUp(500)}).fail(function(){formTitle.append("<p>&mdash; Quote not submitted, please try again</p>")}):""!==n?alert("please add author"):""!==o?alert("please add quote"):alert("please add quote & author")})})}(jQuery);